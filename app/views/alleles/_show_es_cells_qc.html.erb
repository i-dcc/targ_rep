<table class="es_cell_qc_info">
  <caption>Production Centre Screen</caption>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :production_qc_five_prime_screen } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :production_qc_loxp_screen } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :production_qc_three_prime_screen } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :production_qc_loss_of_allele } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :production_qc_vector_integrity } %>
    <td colspan="2"></td>
  </tr>
</table>

<% es_cell.distribution_qcs.each do |distribution_qc| %>
    <%= render :partial => 'alleles/show_distribution_centre_qc', :locals => { :distribution_qc => distribution_qc, :readonly => true } %>
<% end %>

<% if @original %>

<table class="es_cell_qc_info">
  <caption>Distribution Centre QC (original)</caption>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_title', :locals => { :name => "Karyotype", :symbol => :distribution_qc_karyotype } %>
    <td>
      <% if ![nil,""].include?(es_cell.distribution_qc_karyotype_low) and ![nil,""].include?(es_cell.distribution_qc_karyotype_high) %>
        <%= es_cell.distribution_qc_karyotype_low %> - <%= es_cell.distribution_qc_karyotype_high %>
      <% else %>
        -
      <% end %>
    </td>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_copy_number } %>
    <td width="24%"></td>
    <td></td>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_five_prime_lr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_three_prime_lr_pcr } %>
    <td colspan="2"></td>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_five_prime_sr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_three_prime_sr_pcr } %>
    <td colspan="2"></td>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_thawing } %>
    <td colspan="4"></td>
  </tr>

  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_loa } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_loxp } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_lacz } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chr1 } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chr8a } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chr8b } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chr11a } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chr11b } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :distribution_qc_chry } %>
  </tr>

</table>

<% end %>

<table class="es_cell_qc_info">
  <caption>User/Mouse Clinic QC</caption>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_southern_blot } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_map_test } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_karyotype } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_tv_backbone_assay } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_five_prime_lr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_loss_of_wt_allele } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_neo_count_qpcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_lacz_sr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_five_prime_cassette_integrity } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_neo_sr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_mutant_specific_sr_pcr } %>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_loxp_confirmation } %>
  </tr>
  <tr>
    <%= render :partial => 'alleles/show_es_cells_qc_field', :locals => { :es_cell => es_cell, :symbol => :user_qc_three_prime_lr_pcr } %>
    <td colspan="4"></td>
  </tr>
  <tr>
    <th colspan="6" style="text-align:left;">Comments</th>
  </tr>
  <tr>
    <td colspan="6"><%= print_dash_on_empty( es_cell.user_qc_comment ) %></td>
  </tr>
  <% if es_cell.es_cell_qc_conflicts.count > 0 %>
    <tr>
      <th colspan="6" style="text-align:left;">User/Mouse Clinic QC Data Conflicts</th>
    </tr>
    <tr>
      <td colspan="6">
        <table class="list esc_qc_conflicts">
          <thead>
            <tr>
              <th style="text-align:left;">User</th>
              <th style="text-align:left;">QC Test</th>
              <th style="text-align:left;">Proposed Result</th>
              <th style="text-align:left;">Comments</th>
            </tr>
          </thead>
          <tbody>
            <% es_cell.es_cell_qc_conflicts.each do |conflict| %>
              <tr class="<%= cycle("odd", "even") %>">
                <td>
                  <% unless conflict.creator.nil? %>
                    <%= conflict.creator.username %>
                  <% end %>
                </td>
                <td><%= ESCELL_QC_OPTIONS[conflict.qc_field][:name] %></td>
                <td><%= conflict.proposed_result %></td>
                <td><%= conflict.comment %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </td>
    </tr>
  <% end %>
</table>
